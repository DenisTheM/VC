<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Login | Virtue Compliance</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png" />
  <link rel="dns-prefetch" href="https://oylkwprbuaugndbzflvh.supabase.co" />
  <link rel="preconnect" href="https://oylkwprbuaugndbzflvh.supabase.co" crossorigin />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&display=swap" rel="stylesheet" />
</head>
<body>
  <div id="root"></div>
  <script>
    // Chunk loading error recovery: if cached HTML references stale JS chunks,
    // auto-reload once to get fresh HTML with correct chunk references.
    window.addEventListener("error", function(e) {
      var t = e && e.target;
      if (t && t.tagName === "SCRIPT" && t.src && t.src.indexOf("/assets/") !== -1) {
        var k = "vc_chunk_reload";
        if (!sessionStorage.getItem(k)) {
          sessionStorage.setItem(k, "1");
          window.location.reload();
        }
      }
    }, true);
    // Also catch dynamic import() failures (Vite code-splitting)
    window.addEventListener("unhandledrejection", function(e) {
      var msg = e && e.reason && (e.reason.message || String(e.reason));
      if (msg && (msg.indexOf("Failed to fetch dynamically imported module") !== -1 ||
                  msg.indexOf("error loading dynamically imported module") !== -1 ||
                  msg.indexOf("Importing a module script failed") !== -1)) {
        var k = "vc_chunk_reload";
        if (!sessionStorage.getItem(k)) {
          sessionStorage.setItem(k, "1");
          window.location.reload();
        }
      }
    });
    // Clear reload flag on successful load
    window.addEventListener("load", function() { sessionStorage.removeItem("vc_chunk_reload"); });
  </script>
  <script type="module" src="./main.tsx"></script>
</body>
</html>
